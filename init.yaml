---
  - hosts: hadoop
    remote_user: root
    
    tasks:
      - name: set hostname
        hostname: name={{ hn }}

      - name: Disabled Firewalld
        systemd:
          name: 'firewalld'
          state: stopped
          enabled: no
        ignore_errors: true

      - name: ssh-copy
        authorized_key: user=root key="{{ lookup('file', '~/.ssh/id_rsa.pub') }}"

      - name: Install Java
        yum: name=java-1.8.0-openjdk-devel state=installed